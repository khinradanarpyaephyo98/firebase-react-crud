{"ast":null,"code":"import _objectSpread from\"/Users/khinradanar/Desktop/krpp_crud/crud-firebase-info-system/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/khinradanar/Desktop/krpp_crud/crud-firebase-info-system/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link,useHistory,useParams}from'react-router-dom';import\"./Home.css\";import axios from'axios';import{toast}from\"react-toastify\";import fireDb from\"../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){fireDb.child(\"contacts\").on(\"value\",function(snapshot){if(snapshot.val()!==null){setData(_objectSpread({},snapshot.val()));}else{setData({});}});return function(){setData({});};},[]);var onDelete=function onDelete(id){if(window.confirm(\"Are you sure that you wanted to delete that contact ? \")){fireDb.child(\"contacts/\".concat(id)).remove(function(err){if(err){toast.error(err);}else{toast.success(\"Contact Deletecd Successfully\");}});}};return/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"100px\"},children:/*#__PURE__*/_jsxs(\"table\",{className:\"styled-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\" No. \"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\" Name \"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\" Email \"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\" Contact \"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\" Action \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.keys(data).map(function(id,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:data[id].name}),/*#__PURE__*/_jsx(\"td\",{children:data[id].email}),/*#__PURE__*/_jsx(\"td\",{children:data[id].contact}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/update/\".concat(id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-edit\",children:\" Edit \"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-delete\",onClick:function onClick(){return onDelete(id);},children:\" Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"/view/\".concat(id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-view\",children:\" View \"})})]})]},id);})})]})});};export default Home;","map":{"version":3,"sources":["/Users/khinradanar/Desktop/krpp_crud/crud-firebase-info-system/src/pages/Home.js"],"names":["React","useEffect","useState","Link","useHistory","useParams","axios","toast","fireDb","Home","data","setData","child","on","snapshot","val","onDelete","id","window","confirm","remove","err","error","success","marginTop","textAlign","Object","keys","map","index","name","email","contact"],"mappings":"uSAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAAQC,IAAR,CAAaC,UAAb,CAAwBC,SAAxB,KAAwC,kBAAxC,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,C,wFAGA,GAAMC,CAAAA,IAAI,CAAE,QAANA,CAAAA,IAAM,EAAM,CACd,cAAuBP,QAAQ,CAAC,EAAD,CAA/B,wCAAOQ,IAAP,eAAYC,OAAZ,eAEAV,SAAS,CAAC,UAAM,CACZO,MAAM,CAACI,KAAP,CAAa,UAAb,EAAyBC,EAAzB,CAA4B,OAA5B,CAAoC,SAACC,QAAD,CAAc,CAC9C,GAAGA,QAAQ,CAACC,GAAT,KAAiB,IAApB,CAAyB,CACrBJ,OAAO,kBAAKG,QAAQ,CAACC,GAAT,EAAL,EAAP,CACH,CAFD,IAEK,CACDJ,OAAO,CAAC,EAAD,CAAP,CACH,CACJ,CAND,EAOA,MAAO,WAAM,CACTA,OAAO,CAAC,EAAD,CAAP,CACH,CAFD,CAGH,CAXQ,CAWP,EAXO,CAAT,CAaA,GAAMK,CAAAA,QAAQ,CAAE,QAAVA,CAAAA,QAAU,CAACC,EAAD,CAAQ,CACpB,GAAGC,MAAM,CAACC,OAAP,CAAe,wDAAf,CAAH,CAA6E,CACzEX,MAAM,CAACI,KAAP,oBAAyBK,EAAzB,GAA+BG,MAA/B,CAAsC,SAACC,GAAD,CAAS,CAC3C,GAAGA,GAAH,CAAO,CACHd,KAAK,CAACe,KAAN,CAAYD,GAAZ,EACH,CAFD,IAEK,CACDd,KAAK,CAACgB,OAAN,CAAc,+BAAd,EACH,CACJ,CAND,EAOH,CACJ,CAVD,CAaA,mBACI,YAAK,KAAK,CAAG,CAACC,SAAS,CAAC,OAAX,CAAb,uBACI,eAAO,SAAS,CAAC,cAAjB,wBACI,oCACI,mCACI,WAAI,KAAK,CAAG,CAACC,SAAS,CAAE,QAAZ,CAAZ,mBADJ,cAEI,WAAI,KAAK,CAAG,CAACA,SAAS,CAAE,QAAZ,CAAZ,oBAFJ,cAGI,WAAI,KAAK,CAAG,CAACA,SAAS,CAAE,QAAZ,CAAZ,qBAHJ,cAII,WAAI,KAAK,CAAG,CAACA,SAAS,CAAE,QAAZ,CAAZ,uBAJJ,cAKI,WAAI,KAAK,CAAG,CAACA,SAAS,CAAE,QAAZ,CAAZ,sBALJ,GADJ,EADJ,cAUI,uBACKC,MAAM,CAACC,IAAP,CAAYjB,IAAZ,EAAkBkB,GAAlB,CAAsB,SAACX,EAAD,CAAIY,KAAJ,CAAc,CACjC,mBACI,mCACI,WAAI,KAAK,CAAC,KAAV,UAAiBA,KAAK,CAAC,CAAvB,EADJ,cAEI,oBAAKnB,IAAI,CAACO,EAAD,CAAJ,CAASa,IAAd,EAFJ,cAGI,oBAAKpB,IAAI,CAACO,EAAD,CAAJ,CAASc,KAAd,EAHJ,cAII,oBAAKrB,IAAI,CAACO,EAAD,CAAJ,CAASe,OAAd,EAJJ,cAKI,mCACI,KAAC,IAAD,EAAM,EAAE,mBAAaf,EAAb,CAAR,uBACI,eAAQ,SAAS,CAAC,cAAlB,oBADJ,EADJ,cAII,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,yBAAMD,CAAAA,QAAQ,CAACC,EAAD,CAAd,EAA5C,qBAJJ,cAKI,KAAC,IAAD,EAAM,EAAE,iBAAWA,EAAX,CAAR,uBACI,eAAQ,SAAS,CAAC,cAAlB,oBADJ,EALJ,GALJ,GAASA,EAAT,CADJ,CAkBH,CAnBA,CADL,EAVJ,GADJ,EADJ,CAwCH,CArED,CAuEA,cAAeR,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {Link,useHistory,useParams} from 'react-router-dom';\nimport \"./Home.css\"\nimport axios from 'axios';\nimport {toast} from \"react-toastify\";\nimport fireDb from \"../firebase\";\n\n\nconst Home= () => {\n    const [data,setData] = useState({});\n\n    useEffect(() => {\n        fireDb.child(\"contacts\").on(\"value\",(snapshot) => {\n            if(snapshot.val()!==null){\n                setData({...snapshot.val()});\n            }else{\n                setData({});\n            }\n        });\n        return () => {\n            setData({});\n        };\n    },[]);\n    \n    const onDelete= (id) => {\n        if(window.confirm(\"Are you sure that you wanted to delete that contact ? \")) {\n            fireDb.child(`contacts/${id}`).remove((err) => {\n                if(err){\n                    toast.error(err);\n                }else{\n                    toast.success(\"Contact Deletecd Successfully\");\n                }\n            })\n        }\n    }\n\n\n    return (\n        <div style={ {marginTop:\"100px\"}}>\n            <table className=\"styled-table\">\n                <thead>\n                    <tr>\n                        <th style={ {textAlign: \"center\" }}> No. </th>\n                        <th style={ {textAlign: \"center\" }}> Name </th>\n                        <th style={ {textAlign: \"center\" }}> Email </th>\n                        <th style={ {textAlign: \"center\" }}> Contact </th>\n                        <th style={ {textAlign: \"center\" }}> Action </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(data).map((id,index) => {\n                        return(\n                            <tr key={id}>\n                                <th scope=\"row\">{index+1}</th>\n                                <td>{data[id].name}</td>\n                                <td>{data[id].email}</td>\n                                <td>{data[id].contact}</td>\n                                <td>\n                                    <Link to={`/update/${id}`}>\n                                        <button className=\"btn btn-edit\"> Edit </button>\n                                    </Link>\n                                    <button className=\"btn btn-delete\" onClick={() => onDelete(id)}> Delete</button>\n                                    <Link to={`/view/${id}`}>\n                                        <button className=\"btn btn-view\"> View </button>\n                                    </Link>\n\n                                </td>\n                            </tr>\n                        );\n                    })}\n\n                </tbody>\n\n            </table>\n           \n        </div>\n    )\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}